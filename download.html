
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MRI Scripts Download - Free & Premium Access</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- SweetAlert2 -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet" />
    
    <style>
      :root {
        --primary: #1a73e8;
        --primary-dark: #1557b0;
        --secondary: #ea4335;
        --success: #0f9d58;
        --warning: #f9ab00;
        --dark: #202124;
        --gray: #5f6368;
        --light-gray: #f8f9fa;
        --border: #dadce0;
        --radius: 8px;
        --radius-lg: 16px;
        --shadow-sm: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);
        --shadow-md: 0 1px 3px 0 rgba(60,64,67,.3), 0 4px 8px 3px rgba(60,64,67,.15);
        --shadow-lg: 0 4px 6px 0 rgba(60,64,67,.3), 0 8px 16px 6px rgba(60,64,67,.15);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: 'Google Sans', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: #fafbfc;
        color: var(--dark);
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }

      /* News Ticker */
      .news-ticker {
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        color: white;
        overflow: hidden;
        white-space: nowrap;
        position: relative;
        font-size: 14px;
        padding: 12px 0;
        box-shadow: 0 2px 10px rgba(102,126,234,0.2);
      }

      .news-ticker p {
        display: inline-block;
        padding-left: 100%;
        animation: scroll-left 80s linear infinite;
        margin: 0;
      }

      @keyframes scroll-left {
        0% { transform: translate(0, 0); }
        100% { transform: translate(-100%, 0); }
      }

      /* Modern Card Design */
      .modern-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border: 1px solid rgba(0,0,0,0.08);
        border-radius: var(--radius-lg);
        padding: 24px;
        transition: all 0.3s ease;
        height: 100%;
        position: relative;
        overflow: hidden;
      }

      .modern-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .modern-card:hover {
        box-shadow: 0 10px 30px rgba(102,126,234,0.1);
        transform: translateY(-2px);
      }

      .modern-card:hover::before {
        transform: scaleX(1);
      }

      .card {
        border: none;
        border-radius: var(--radius);
        box-shadow: var(--shadow-sm);
        transition: all 0.2s ease;
        overflow: hidden;
      }

      .card:hover {
        box-shadow: var(--shadow-md);
      }

      /* Modern Button Styles */
      .btn {
        font-family: 'Google Sans', sans-serif;
        font-weight: 500;
        padding: 12px 24px;
        border-radius: var(--radius);
        transition: all 0.2s ease;
        border: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 16px;
        cursor: pointer;
      }

      .btn:hover {
        box-shadow: var(--shadow-sm);
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(102,126,234,0.3);
      }

      .btn-success {
        background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        color: white;
        border: none;
      }

      .btn-success:hover {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(16,185,129,0.3);
      }

      .btn-danger {
        background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
        color: white;
        border: none;
      }

      .btn-danger:hover {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(239,68,68,0.3);
      }

      .btn-outline-primary {
        color: #667eea;
        border-color: #667eea;
      }

      .btn-outline-primary:hover {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: transparent;
        color: white;
      }

      /* Professional Google Sign-In Button */
      .google-signin-btn {
        background: #ffffff;
        border: 1px solid var(--border);
        color: #3c4043;
        font-family: 'Google Sans', sans-serif;
        font-size: 16px;
        font-weight: 500;
        padding: 0;
        height: 56px;
        border-radius: var(--radius);
        transition: all 0.2s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
      }

      .google-signin-btn:hover {
        box-shadow: var(--shadow-sm);
        background: #f8f9fa;
        border-color: #3c4043;
      }

      .google-signin-btn:active {
        background: #e8eaed;
      }

      .google-signin-content {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 0 24px;
      }

      .google-icon-wrapper {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Modern Hero Section */
      .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 60px 0 40px;
        position: relative;
        overflow: hidden;
      }

      .hero-section::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
        background-size: 50px 50px;
        animation: float 20s linear infinite;
      }

      @keyframes float {
        0% { transform: translate(0, 0); }
        100% { transform: translate(50px, 50px); }
      }

      .hero-pattern {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: radial-gradient(circle at 1px 1px, #e8eaed 1px, transparent 1px);
        background-size: 40px 40px;
        opacity: 0.5;
        z-index: 0;
      }

      .hero-content {
        position: relative;
        z-index: 1;
      }

      .logo-container {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      .main-title {
        font-size: 48px;
        font-weight: 700;
        color: white;
        margin-bottom: 16px;
        letter-spacing: -0.5px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      .subtitle {
        font-size: 20px;
        color: rgba(255,255,255,0.9);
        margin-bottom: 32px;
      }

      @media (max-width: 768px) {
        .main-title {
          font-size: 32px;
        }
        .subtitle {
          font-size: 16px;
        }
      }

      /* Feature Section */
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 24px;
        margin-bottom: 48px;
      }

      .feature-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
        font-size: 24px;
      }

      .icon-community {
        background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
        color: #be185d;
        box-shadow: 0 4px 12px rgba(190,24,93,0.1);
      }

      .icon-dev {
        background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        color: #1e40af;
        box-shadow: 0 4px 12px rgba(30,64,175,0.1);
      }

      .feature-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--dark);
      }

      .feature-description {
        color: var(--gray);
        margin-bottom: 20px;
      }

      /* Modern Access Section */
      .access-section {
        background: white;
        border: 1px solid rgba(0,0,0,0.08);
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        margin-bottom: 48px;
      }

      .access-header {
        background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%);
        padding: 32px;
        text-align: center;
        border-bottom: 1px solid rgba(0,0,0,0.08);
        position: relative;
        overflow: hidden;
      }

      .access-header::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(102,126,234,0.05) 1px, transparent 1px);
        background-size: 30px 30px;
      }

      .access-body {
        padding: 40px;
      }

      .access-title {
        font-size: 28px;
        font-weight: 600;
        color: var(--dark);
        margin-bottom: 8px;
      }

      .access-subtitle {
        color: var(--gray);
        font-size: 16px;
      }

      /* Modern Input Field */
      .modern-input {
        width: 100%;
        padding: 16px 20px;
        font-size: 18px;
        font-weight: 500;
        border: 2px solid var(--border);
        border-radius: var(--radius);
        text-align: center;
        transition: all 0.2s ease;
        letter-spacing: 2px;
        font-family: 'Google Sans', monospace;
      }

      .modern-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(26,115,232,0.1);
      }

      .input-label {
        font-size: 14px;
        font-weight: 500;
        color: var(--gray);
        margin-bottom: 8px;
        display: block;
      }

      .code-examples {
        display: flex;
        gap: 8px;
        justify-content: center;
        margin-top: 12px;
        flex-wrap: wrap;
      }

      .code-example {
        background: var(--light-gray);
        color: var(--gray);
        padding: 4px 12px;
        border-radius: 16px;
        font-size: 14px;
        font-family: monospace;
      }

      /* Info Section */
      .info-section {
        background: linear-gradient(135deg, #e8f0fe 0%, #d2e3fc 100%);
        border: 1px solid rgba(26,115,232,0.1);
        border-radius: var(--radius);
        padding: 20px 24px;
        margin-bottom: 32px;
        box-shadow: 0 4px 12px rgba(26,115,232,0.08);
      }

      .info-icon {
        width: 40px;
        height: 40px;
        background: #1a73e8;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      /* Table */
      .table {
        border-radius: var(--border-radius);
        overflow: hidden;
      }

      .table thead th {
        background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.875rem;
        letter-spacing: 0.5px;
        border: none;
        padding: 1rem;
        color: var(--youtube-red);
      }

      .table tbody td {
        padding: 1rem;
        vertical-align: middle;
        border-color: #f0f0f0;
      }

      .table tbody tr:hover {
        background: rgba(255,0,0,0.02);
      }

      /* Status Messages */
      .alert {
        border: none;
        border-radius: 8px;
        padding: 1rem 1.5rem;
      }

      /* Loading Animation */
      .spinner {
        width: 48px;
        height: 48px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--youtube-red);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 2rem auto;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      @keyframes glow {
        0% {
          box-shadow: 0 0 5px rgba(255,0,0,0.5);
        }
        50% {
          box-shadow: 0 0 20px rgba(255,0,0,0.8), 0 0 30px rgba(255,0,0,0.6);
        }
        100% {
          box-shadow: 0 0 5px rgba(255,0,0,0.5);
        }
      }

      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }

      /* Animation Classes */
      .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out;
      }

      .animate-slideInRight {
        animation: slideInRight 0.6s ease-out;
      }

      .animate-bounce {
        animation: bounce 2s infinite;
      }

      .animate-glow {
        animation: glow 2s infinite;
      }

      .success-animation {
        animation: bounce 0.5s ease;
      }

      .error-animation {
        animation: shake 0.5s ease;
      }

      /* Security Badge */
      .security-badge {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 10px 20px;
        border-radius: 30px;
        font-size: 0.875rem;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        animation: slideInRight 0.8s ease-out;
      }

      .security-badge i {
        color: #4CAF50;
        animation: pulse 2s infinite;
      }

      /* Confetti Effect */
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: #f0f;
        position: absolute;
        animation: confetti-fall 3s linear;
      }

      @keyframes confetti-fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .hero-section {
          padding: 2rem 0;
        }
        
        .feature-card {
          margin-bottom: 1rem;
        }
        
        .security-badge {
          bottom: 10px;
          right: 10px;
          font-size: 0.75rem;
          padding: 8px 16px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Floating Help Button -->
    <div class="fab-help" onclick="window.open('https://whatsapp.rameezscripts.com', '_blank')" title="Get Help on WhatsApp">
      <i class="fas fa-question"></i>
    </div>
    
    <!-- News Ticker -->
    <div class="news-ticker">
      <p>
        <i class="fas fa-info-circle me-2"></i>
        <strong>IMPORTANT:</strong> You can only download free codes if you subscribe to our YouTube channel. We use Google to verify your subscription and automatically send a copy to your Google Drive. 
        <span class="mx-4">|</span>
        <i class="fas fa-search me-2"></i>
        <strong>FIND CODES:</strong> Look in video titles for codes like D30, B40, etc. 
        <span class="mx-4">|</span>
        <i class="fas fa-shield-alt me-2"></i>
        <strong>100% SECURE:</strong> Google OAuth 2.0 authentication 
        <span class="mx-4">|</span>
        <i class="fas fa-code me-2"></i>
        <strong>CUSTOM WORK:</strong> WordPress, Google Sheets, AppScript Automations 
        <span class="mx-4">|</span>
        <i class="fas fa-users me-2"></i>
        Join community.rameezscripts.com
      </p>
    </div>

    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-pattern"></div>
      <div class="container">
        <div class="hero-content text-center">
          <div class="logo-container animate-fadeInUp">
            <i class="fab fa-youtube" style="font-size: 2.5rem; color: #ea4335;"></i>
          </div>
          <h1 class="main-title animate-fadeInUp" style="animation-delay: 0.1s;">MRI Scripts Download</h1>
          <p class="subtitle animate-fadeInUp" style="animation-delay: 0.2s;">Access premium scripts with YouTube subscription verification</p>
          
          <!-- Trust Badges -->
          <div class="d-flex justify-content-center gap-4 flex-wrap animate-fadeInUp" style="animation-delay: 0.3s;">
            <div class="d-flex align-items-center gap-2 bg-white px-3 py-2 rounded-pill" style="background: rgba(255,255,255,0.9) !important; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <i class="fas fa-shield-alt text-success"></i>
              <span style="color: #333;">Secure OAuth</span>
            </div>
            <div class="d-flex align-items-center gap-2 bg-white px-3 py-2 rounded-pill" style="background: rgba(255,255,255,0.9) !important; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <i class="fas fa-cloud text-primary"></i>
              <span style="color: #333;">Google Drive</span>
            </div>
            <div class="d-flex align-items-center gap-2 bg-white px-3 py-2 rounded-pill" style="background: rgba(255,255,255,0.9) !important; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <i class="fas fa-check-circle text-success"></i>
              <span style="color: #333;">Verified Downloads</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Container -->
    <div class="container py-5">

      <!-- Feature Section -->
      <div class="feature-grid mb-5">
        <div class="modern-card animate-fadeInUp" style="animation-delay: 0.4s;">
          <div class="feature-icon icon-community">
            <i class="fas fa-users"></i>
          </div>
          <h3 class="feature-title">Join Our Community</h3>
          <p class="feature-description">Connect with 1000+ developers and creators in our active community</p>
          <a href="https://community.rameezscripts.com" target="_blank" class="btn btn-outline-primary w-100">
            Join Community <i class="fas fa-arrow-right ms-2"></i>
          </a>
        </div>
        
        <div class="modern-card animate-fadeInUp" style="animation-delay: 0.5s;">
          <div class="feature-icon icon-dev">
            <i class="fas fa-code"></i>
          </div>
          <h3 class="feature-title">Custom Development</h3>
          <p class="feature-description">Professional services for your projects</p>
          <div class="d-flex flex-wrap gap-2 mb-3">
            <span class="badge bg-light text-dark border">WordPress</span>
            <span class="badge bg-light text-dark border">Google Sheets</span>
            <span class="badge bg-light text-dark border">AppScript</span>
            <span class="badge bg-light text-dark border">Automations</span>
          </div>
          <a href="https://whatsapp.rameezscripts.com" target="_blank" class="btn btn-success w-100">
            <i class="fab fa-whatsapp"></i> Get Quote
          </a>
        </div>
      </div>

      <!-- Info Section -->
      <div class="info-section animate-fadeInUp" style="animation-delay: 0.6s;">
        <div class="d-flex gap-3">
          <div class="info-icon">
            <i class="fas fa-info"></i>
          </div>
          <div>
            <h5 class="fw-semibold mb-2">How to Find Access Codes</h5>
            <p class="mb-2">Look for codes in YouTube video titles (e.g., D30, B40, FREE123)</p>
            <div class="d-flex gap-4 flex-wrap">
              <span><i class="fas fa-check-circle text-success me-1"></i> <strong>Free codes:</strong> Listed below</span>
              <span><i class="fas fa-crown text-warning me-1"></i> <strong>Premium codes:</strong> Contact via WhatsApp</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Access Form Section -->
      <div class="access-section animate-fadeInUp" style="animation-delay: 0.7s;">
        <div class="access-header">
          <i class="fas fa-download mb-3" style="font-size: 2.5rem; color: var(--primary);"></i>
          <h2 class="access-title">Access Your Download</h2>
          <p class="access-subtitle">Secure verification process</p>
        </div>
        
        <div class="access-body">
          <!-- Progress Steps -->
          <div class="row mb-5">
            <div class="col-4 text-center">
              <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary text-white" style="width: 48px; height: 48px;" id="step1">
                <span class="fw-semibold">1</span>
              </div>
              <p class="small mt-2 mb-0 fw-medium">Enter Code</p>
            </div>
            <div class="col-4 text-center">
              <div class="d-inline-flex align-items-center justify-content-center rounded-circle" style="width: 48px; height: 48px; background: #e8eaed; color: #5f6368;" id="step2">
                <span class="fw-semibold">2</span>
              </div>
              <p class="small mt-2 mb-0 fw-medium">Sign In</p>
            </div>
            <div class="col-4 text-center">
              <div class="d-inline-flex align-items-center justify-content-center rounded-circle" style="width: 48px; height: 48px; background: #e8eaed; color: #5f6368;" id="step3">
                <span class="fw-semibold">3</span>
              </div>
              <p class="small mt-2 mb-0 fw-medium">Download</p>
            </div>
          </div>
          
          <!-- Access Code Input -->
          <div class="mb-5">
            <label class="input-label">ENTER ACCESS CODE</label>
            <input 
              type="text" 
              class="modern-input" 
              id="accessCode" 
              placeholder="e.g., FREE123"
              autocomplete="off"
            />
            <div class="code-examples">
              <span class="code-example">D30</span>
              <span class="code-example">B40</span>
              <span class="code-example">FREE123</span>
            </div>
          </div>
          
          <!-- Status Message -->
          <div id="statusMessage" class="alert d-none" role="alert"></div>
          
          <!-- Action Buttons -->
          <div class="d-grid gap-3">
            <!-- Google Sign In -->
            <div id="authBtnContainer" class="mb-4">
              <button id="authBtn" class="google-signin-btn" onclick="handleAuthClick()">
                <div class="google-signin-content">
                  <div class="google-icon-wrapper">
                    <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                      <g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)">
                        <path fill="#4285F4" d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"/>
                        <path fill="#34A853" d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"/>
                        <path fill="#FBBC05" d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"/>
                        <path fill="#EA4335" d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"/>
                      </g>
                    </svg>
                  </div>
                  <span>Sign in with Google</span>
                </div>
              </button>
              <p class="text-center text-muted small mt-3 mb-0">
                <i class="fas fa-lock me-1"></i> Secure authentication via Google OAuth 2.0
              </p>
            </div>
            
            <!-- Verify Subscription -->
            <div class="d-none" id="verifyContainer">
              <button id="checkSubscriptionBtn" class="btn btn-primary btn-lg w-100 mb-2" onclick="checkSubscription()">
                <i class="fas fa-user-check"></i>
                Verify YouTube Subscription
              </button>
              <button class="btn btn-outline-secondary w-100" onclick="reverifySubscription()">
                <i class="fas fa-sync-alt"></i>
                Re-verify Subscription
              </button>
            </div>
            
            <!-- Subscribe Button -->
            <div class="d-none" id="subscribeContainer">
              <div class="alert alert-warning border-0 text-center mb-3">
                <i class="fas fa-bell me-2"></i>
                <strong>Subscription Required</strong>
                <p class="mb-0 small mt-1">Please subscribe to our YouTube channel to access downloads</p>
              </div>
              <div class="d-grid gap-2">
                <button id="subscribeBtn" class="btn btn-danger btn-lg" onclick="openChannelPage()">
                  <i class="fab fa-youtube"></i>
                  Subscribe to Channel
                </button>
                <button class="btn btn-outline-secondary" onclick="checkSubscriptionAgain()">
                  <i class="fas fa-sync-alt"></i>
                  Re-verify Subscription
                </button>
              </div>
            </div>
            
            <!-- Download Button -->
            <div class="d-none" id="downloadContainer">
              <div class="alert alert-success border-0 text-center mb-3">
                <i class="fas fa-check-circle me-2"></i>
                <strong>Verification Complete!</strong>
                <p class="mb-0 small mt-1">Your secure download is ready</p>
              </div>
              <div class="d-grid gap-2">
                <button id="downloadBtn" class="btn btn-success btn-lg" onclick="initiateSecureDownload()">
                  <i class="fas fa-cloud-download-alt"></i>
                  Download to Google Drive
                </button>
                <button class="btn btn-outline-success" onclick="reverifyBeforeDownload()">
                  <i class="fas fa-shield-alt"></i>
                  Verify Again for Extra Security
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Free Codes Table -->
      <div class="card mb-5">
        <div class="card-header bg-white py-4">
          <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
            <div>
              <h4 class="mb-1 fw-bold"><i class="fas fa-gift text-success me-2"></i>Free Access Codes</h4>
              <p class="text-muted small mb-0">Copy any code below and enter it above</p>
            </div>
            <div class="input-group" style="max-width: 300px;">
              <span class="input-group-text bg-white border-end-0">
                <i class="fas fa-search text-muted"></i>
              </span>
              <input 
                type="text" 
                class="form-control border-start-0" 
                id="searchCodes" 
                placeholder="Search codes..."
                onkeyup="searchTable()"
              />
            </div>
          </div>
        </div>
        <div class="card-body">
          <!-- Loading State -->
          <div id="codesTableLoading" class="text-center py-5">
            <div class="spinner"></div>
            <p class="text-muted">Loading free codes...</p>
          </div>
          
          <!-- Table -->
          <div id="codesTableWrapper" class="d-none">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead class="table-light">
                  <tr>
                    <th>Video Title</th>
                    <th>Access Code</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody id="codesTableBody">
                  <!-- Codes will be inserted here -->
                </tbody>
              </table>
            </div>
            
            <div class="alert alert-light border-start border-warning border-4 mt-4">
              <div class="d-flex align-items-center">
                <i class="fas fa-lightbulb text-warning me-3"></i>
                <div>
                  <strong>Note:</strong> These are FREE codes available after subscription. Premium codes from video titles require WhatsApp purchase.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="text-center py-5">
        <h5 class="mb-3">Need Help or Have a Premium Code?</h5>
        <p class="text-muted mb-4">Get instant support on WhatsApp</p>
        <a href="https://whatsapp.rameezscripts.com" target="_blank" class="btn btn-success btn-lg">
          <i class="fab fa-whatsapp me-2"></i>
          Contact on WhatsApp
        </a>
        <div class="mt-4">
          <a href="https://community.rameezscripts.com" target="_blank" class="text-decoration-none text-muted">
            <i class="fas fa-users me-2"></i>Join our Community
          </a>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script>
      let accessToken = null;
      let tokenClient;
      let subscribersData = [];
      let allCodes = [];
      const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz-IlRWeP6gXH-E5FgaoCpifCyGXiZIW21HxHAaGSQBdR9xng6LnALb_O4vNmOUtwneOA/exec';
      const REQUIRED_CHANNEL_ID = 'UC8hFdgy15R0zyUWXzr4BwuQ';
      const CHANNEL_URL = 'https://www.youtube.com/@rameezimdad?sub_confirmation=1';

      function initializeGis() {
        try {
          tokenClient = google.accounts.oauth2.initTokenClient({
            client_id: '1068454459694-p20idjlk8ikvreg280vrc3ergmjbt9rq.apps.googleusercontent.com',
            scope: 'https://www.googleapis.com/auth/youtube.readonly',
            callback: (response) => {
              if (response.access_token) {
                accessToken = response.access_token;
                showStatus('Google authentication successful!', 'success');
                document.getElementById('authBtnContainer').classList.add('d-none');
                document.getElementById('verifyContainer').classList.remove('d-none');
                document.getElementById('step2').classList.remove('bg-light', 'text-muted');
                document.getElementById('step2').classList.add('bg-success', 'text-white');
                document.getElementById('step2').innerHTML = '<i class="fas fa-check"></i>';
              } else {
                showStatus('Authentication failed. Please try again.', 'error');
              }
            }
          });
        } catch (error) {
          console.error('Error initializing GIS:', error);
          showStatus('Initialization failed. Please refresh the page.', 'error');
        }
      }

      function handleAuthClick() {
        const accessCode = document.getElementById('accessCode').value.trim();
        
        if (!accessCode) {
          Swal.fire({
            icon: 'warning',
            title: 'Code Required',
            text: 'Please enter an access code first!',
            confirmButtonColor: '#FF0000'
          });
          return;
        }

        if (!tokenClient) {
          showStatus('Authentication not initialized. Please refresh the page.', 'error');
          return;
        }

        tokenClient.requestAccessToken();
      }

      function showStatus(message, type) {
        const statusElement = document.getElementById('statusMessage');
        const alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
        const icon = type === 'success' ? 'check-circle' : 'exclamation-circle';
        
        statusElement.className = `alert ${alertClass}`;
        statusElement.innerHTML = `<i class="fas fa-${icon} me-2"></i>${message}`;
        statusElement.classList.remove('d-none');
      }

      function openChannelPage() {
        window.open(CHANNEL_URL, '_blank');
      }

      async function checkSubscription() {
        const accessCode = document.getElementById('accessCode').value.trim();
        
        if (!accessCode) {
          Swal.fire({
            icon: 'warning',
            title: 'Code Required',
            text: 'Please enter an access code first.',
            confirmButtonColor: '#FF0000'
          });
          return;
        }

        if (!accessToken) {
          showStatus('Please sign in with Google first!', 'error');
          return;
        }

        try {
          Swal.fire({
            title: 'Verifying Subscription',
            html: 'Checking your YouTube subscription...',
            allowOutsideClick: false,
            showConfirmButton: false,
            didOpen: () => {
              Swal.showLoading();
            }
          });

          const response = await fetch(
            'https://www.googleapis.com/youtube/v3/subscriptions?part=snippet&mine=true&maxResults=50',
            {
              headers: {
                'Authorization': `Bearer ${accessToken}`,
                'Accept': 'application/json'
              }
            }
          );

          if (!response.ok) {
            const error = await response.json();
            throw new Error(error.error.message || 'Failed to fetch subscriptions');
          }

          const data = await response.json();
          subscribersData = (data.items || []).map(item => ({
            channelTitle: item.snippet.title,
            channelId: item.snippet.resourceId.channelId,
            channelUrl: `https://www.youtube.com/channel/${item.snippet.resourceId.channelId}`,
            username: item.snippet.channelTitle
          }));

          const isSubscribed = subscribersData.some(
            subscriber => subscriber.channelId === REQUIRED_CHANNEL_ID
          );

          Swal.close();

          if (isSubscribed) {
            Swal.fire({
              icon: 'success',
              title: 'Subscription Verified!',
              text: 'You can now download your content.',
              confirmButtonColor: '#28a745'
            });

            showStatus('Subscription verified! You can now download.', 'success');
            document.getElementById('verifyContainer').classList.add('d-none');
            document.getElementById('subscribeContainer').classList.add('d-none');
            document.getElementById('downloadContainer').classList.remove('d-none');
            document.getElementById('step3').classList.remove('bg-light', 'text-muted');
            document.getElementById('step3').classList.add('bg-danger', 'text-white');
          } else {
            Swal.fire({
              icon: 'info',
              title: 'Subscription Required',
              html: 'Please subscribe to our YouTube channel to access downloads.',
              confirmButtonText: 'Subscribe Now',
              confirmButtonColor: '#FF0000',
              showCancelButton: true
            }).then((result) => {
              if (result.isConfirmed) {
                window.open(CHANNEL_URL, '_blank');
              }
            });

            showStatus('Please subscribe to our channel first.', 'error');
            document.getElementById('verifyContainer').classList.add('d-none');
            document.getElementById('subscribeContainer').classList.remove('d-none');
          }
        } catch (error) {
          console.error('Error checking subscription:', error);
          Swal.close();
          showStatus(`Error: ${error.message}`, 'error');
          document.getElementById('verifyContainer').classList.add('d-none');
          document.getElementById('subscribeContainer').classList.remove('d-none');
        }
      }

      // Enhanced secure download with animations
      async function initiateSecureDownload() {
        const accessCode = document.getElementById('accessCode').value.trim();
        
        if (!accessCode) {
          showStatus('Please enter an access code.', 'error');
          document.getElementById('accessCode').classList.add('error-animation');
          setTimeout(() => document.getElementById('accessCode').classList.remove('error-animation'), 500);
          return;
        }

        // Add security check animation
        const downloadBtn = document.getElementById('downloadBtn');
        downloadBtn.disabled = true;
        downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Verifying Security...';

        try {
          // Multi-step security process
          await Swal.fire({
            title: 'Security Verification',
            html: `
              <div class="text-center">
                <i class="fas fa-shield-alt fa-3x text-success mb-3 animate-bounce"></i>
                <p>Performing secure authentication...</p>
                <div class="progress mt-3">
                  <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 0%" id="securityProgress"></div>
                </div>
                <small class="text-muted mt-2 d-block" id="securityStatus">Initializing...</small>
              </div>
            `,
            allowOutsideClick: false,
            showConfirmButton: false,
            didOpen: () => {
              // Simulate security checks
              let progress = 0;
              const progressBar = document.getElementById('securityProgress');
              const statusText = document.getElementById('securityStatus');
              
              const securitySteps = [
                { progress: 25, text: 'Verifying access token...' },
                { progress: 50, text: 'Checking subscription status...' },
                { progress: 75, text: 'Validating access code...' },
                { progress: 100, text: 'Security check complete!' }
              ];
              
              let stepIndex = 0;
              const interval = setInterval(() => {
                if (stepIndex < securitySteps.length) {
                  const step = securitySteps[stepIndex];
                  progressBar.style.width = step.progress + '%';
                  statusText.textContent = step.text;
                  stepIndex++;
                } else {
                  clearInterval(interval);
                  setTimeout(() => Swal.close(), 500);
                }
              }, 800);
            }
          });

          const response = await fetch(
            `${GOOGLE_SCRIPT_URL}?action=getSheetUrl&key=${encodeURIComponent(accessCode)}&token=${accessToken}`,
            { method: 'GET' }
          );

          const data = await response.json();

          if (data.status === 'success' && data.url) {
            // Success with confetti
            createConfetti();
            
            await Swal.fire({
              icon: 'success',
              title: 'Download Authorized!',
              html: `
                <div class="text-center">
                  <i class="fas fa-check-circle fa-4x text-success mb-3 success-animation"></i>
                  <p>Your secure download is ready!</p>
                  <small class="text-muted">File will be sent to your Google Drive</small>
                </div>
              `,
              confirmButtonColor: '#28a745',
              confirmButtonText: 'Download Now'
            });
            
            window.open(data.url, '_blank');
            showStatus('Secure download initiated!', 'success');
          } else {
            // Code not found - it's a paid code
            Swal.fire({
              icon: 'error',
              title: 'Premium Code Detected',
              html: `
                <div class="text-center">
                  <i class="fas fa-crown fa-3x text-warning mb-3 animate-bounce"></i>
                  <p>"${accessCode}" is a premium code</p>
                  <p class="text-muted">Contact us to unlock this content</p>
                  <a href="https://whatsapp.rameezscripts.com" target="_blank" class="btn btn-success mt-3">
                    <i class="fab fa-whatsapp me-2"></i>Get Premium Access
                  </a>
                </div>
              `,
              confirmButtonText: 'OK',
              confirmButtonColor: '#FF0000'
            });
            showStatus('Premium code detected. Contact us for access.', 'error');
          }
        } catch (error) {
          console.error('Error:', error);
          Swal.fire({
            icon: 'error',
            title: 'Security Error',
            text: 'Failed to verify security. Please try again.',
            confirmButtonColor: '#dc3545'
          });
          showStatus(`Security error: ${error.message}`, 'error');
        } finally {
          downloadBtn.disabled = false;
          downloadBtn.innerHTML = '<i class="fas fa-cloud-download-alt me-2"></i><span class="fw-semibold">Secure Download</span>';
        }
      }

      // Re-verify subscription
      function reverifySubscription() {
        document.getElementById('verifyContainer').classList.add('d-none');
        document.getElementById('authBtnContainer').classList.remove('d-none');
        document.getElementById('step2').classList.remove('bg-success', 'text-white');
        document.getElementById('step2').classList.add('bg-light', 'text-muted');
        document.getElementById('step2').innerHTML = '<span class="fw-bold">2</span>';
        showStatus('Please sign in again to re-verify your subscription.', 'info');
      }

      // Check subscription again after subscribing
      async function checkSubscriptionAgain() {
        const btn = event.target;
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Checking...';
        
        // Hide subscribe container and show verify container
        document.getElementById('subscribeContainer').classList.add('d-none');
        document.getElementById('verifyContainer').classList.remove('d-none');
        
        // Small delay for better UX
        setTimeout(async () => {
          await checkSubscription();
          btn.disabled = false;
          btn.innerHTML = '<i class="fas fa-sync-alt me-2"></i><span class="fw-semibold">Re-verify Subscription</span>';
        }, 500);
      }

      // Re-verify before download for extra security
      async function reverifyBeforeDownload() {
        const btn = event.target;
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Verifying...';
        
        await checkSubscription();
        
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-shield-alt me-2"></i>Verify Again for Extra Security';
      }

      // Create confetti effect
      function createConfetti() {
        const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF'];
        const confettiCount = 50;
        
        for (let i = 0; i < confettiCount; i++) {
          setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = (Math.random() * 2 + 1) + 's';
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
          }, i * 50);
        }
      }

      // Keep original downloadFile for backward compatibility
      async function downloadFile() {
        await initiateSecureDownload();
      }

      async function loadAvailableCodes() {
        try {
          const response = await fetch(`${GOOGLE_SCRIPT_URL}?action=getAvailableCodes`);
          const data = await response.json();
          
          document.getElementById('codesTableLoading').classList.add('d-none');
          
          if (data.status === 'success' && data.codes && data.codes.length > 0) {
            allCodes = data.codes;
            displayCodes(data.codes);
            document.getElementById('codesTableWrapper').classList.remove('d-none');
          } else {
            document.getElementById('codesTableLoading').innerHTML = 
              '<p class="text-muted">No free codes available at the moment.</p>';
            document.getElementById('codesTableLoading').classList.remove('d-none');
          }
        } catch (error) {
          console.error('Error loading codes:', error);
          document.getElementById('codesTableLoading').innerHTML = 
            '<p class="text-danger">Failed to load codes. Please refresh.</p>';
          document.getElementById('codesTableLoading').classList.remove('d-none');
        }
      }

      function displayCodes(codes) {
        const tbody = document.getElementById('codesTableBody');
        tbody.innerHTML = '';
        
        codes.forEach((item) => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>
              <div class="d-flex align-items-center">
                <i class="fas fa-video text-muted me-3"></i>
                <span>${item.title}</span>
              </div>
            </td>
            <td>
              <span class="code-badge">${item.code}</span>
            </td>
            <td class="text-end">
              <button class="btn btn-sm btn-outline-primary" onclick="copyCode('${item.code}', this)">
                <i class="fas fa-copy me-1"></i>Copy
              </button>
            </td>
          `;
          tbody.appendChild(row);
        });
      }

      function copyCode(code, button) {
        navigator.clipboard.writeText(code).then(() => {
          button.innerHTML = '<i class="fas fa-check me-1"></i>Copied!';
          button.classList.remove('btn-outline-primary');
          button.classList.add('btn-success');
          
          document.getElementById('accessCode').value = code;
          
          // Update step 1 to show completion
          document.getElementById('step1').classList.remove('bg-danger');
          document.getElementById('step1').classList.add('bg-success', 'text-white');
          document.getElementById('step1').innerHTML = '<i class="fas fa-check"></i>';
          
          window.scrollTo({ top: 0, behavior: 'smooth' });
          
          setTimeout(() => {
            button.innerHTML = '<i class="fas fa-copy me-1"></i>Copy';
            button.classList.remove('btn-success');
            button.classList.add('btn-outline-primary');
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy:', err);
        });
      }

      function searchTable() {
        const searchValue = document.getElementById('searchCodes').value.toLowerCase().trim();
        
        if (!searchValue) {
          displayCodes(allCodes);
          return;
        }
        
        const filteredCodes = allCodes.filter(code => 
          code.title.toLowerCase().includes(searchValue) || 
          code.code.toLowerCase().includes(searchValue)
        );
        
        if (filteredCodes.length === 0) {
          const tbody = document.getElementById('codesTableBody');
          tbody.innerHTML = `
            <tr>
              <td colspan="3" class="text-center py-4 text-muted">
                No codes found matching "${searchValue}"
              </td>
            </tr>
          `;
        } else {
          displayCodes(filteredCodes);
        }
      }

      // Update step 1 when user types in access code
      document.getElementById('accessCode').addEventListener('input', function(e) {
        if (e.target.value.trim()) {
          document.getElementById('step1').classList.remove('bg-danger');
          document.getElementById('step1').classList.add('bg-success', 'text-white');
          document.getElementById('step1').innerHTML = '<i class="fas fa-check"></i>';
          this.classList.add('success-animation');
          setTimeout(() => this.classList.remove('success-animation'), 500);
        } else {
          document.getElementById('step1').classList.remove('bg-success', 'text-white');
          document.getElementById('step1').classList.add('bg-danger');
          document.getElementById('step1').innerHTML = '<span class="fw-bold">1</span>';
        }
      });

      // Add hover effect to cards
      document.addEventListener('DOMContentLoaded', function() {
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
          card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
          });
          card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
          });
        });
      });

      window.onload = () => {
        initializeGis();
        loadAvailableCodes();
        document.getElementById('searchCodes').value = '';
        
        // Add entrance animations to elements
        const elements = document.querySelectorAll('.animate-fadeInUp, .animate-slideInRight');
        elements.forEach((el, index) => {
          el.style.opacity = '0';
          setTimeout(() => {
            el.style.opacity = '1';
          }, index * 100);
        });
      };
    </script>
  </body>
</html>
